{
  "info": {
    "_postman_id": "25979072-c923-48e6-b2c0-d4b1afeda9dd",
    "name": "api_sanity",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "e4e829ef-21f1-49c8-a0f9-f835439ad77f",
      "name": "anf-createuser",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0f29eae0-f6ad-45e1-afa2-f33f2e5a9b88",
            "type": "text/javascript",
            "exec": [
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"a_userId\", jsonData.userId);",
              "",
              "",
              "pm.test(\"New user created \", function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData.status).to.eql(\"OK\");",
              "});",
              "",
              "pm.test(\"response must be valid and have a body\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "cf55d04d-429f-4347-b3dd-d3a9b53db51b",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"anfapitest_{{$randomInt}}{{$randomInt}}@test.com\",\n  \"firstName\":\"ANF\",\n  \"lastName\":\"Test\",\n  \"password\":\"passw0rd\",\n  \"primaryPhone\":\"1111111111\",\n  \"emailOptions\":{\n    \"anf\":\"Y\"\n  },\n  \"origin\":\"POS\",\n  \"cashierID\":\"12345\",\n  \"preference\":{\n    \"preferredStore\":\"10697\"\n  }\n}"
        },
        "url": {
          "raw": "https://{{env}}.abercrombie.com/api/ecomm/a-us/user/?cookieAuth=true",
          "protocol": "https",
          "host": [
            "{{env}}",
            "abercrombie",
            "com"
          ],
          "path": [
            "api",
            "ecomm",
            "a-us",
            "user",
            ""
          ],
          "query": [
            {
              "key": "cookieAuth",
              "value": "true"
            }
          ]
        }
      },
      "response": []
    },
    {
      "_postman_id": "11db0dd6-241e-42c9-95ee-c29a1563861b",
      "name": "anf-userdetails",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "9aeed431-5305-481b-8bff-5addb33ae766",
            "type": "text/javascript",
            "exec": [
              "",
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"a_userId\", jsonData.userId);",
              "pm.environment.set(\"a_email\", jsonData.email);",
              "pm.environment.set(\"a_login\", jsonData.email);",
              "pm.environment.set(\"a_pstore\", jsonData.preference.preferredStore);",
              "",
              "tests[\"user ID  = \"+ jsonData.userId] = true;",
              "tests[\"user email   = \"+ jsonData.email] = true;",
              "",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "dcd9308d-117a-4e40-a6e6-fc6c1806d6d7",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"shortSku\": \"628396469\"\n}"
        },
        "url": "https://{{env}}.abercrombie.com/api/ecomm/a-us/user/"
      },
      "response": []
    },
    {
      "_postman_id": "a391a498-dbd6-4fae-bb84-cc31317add2e",
      "name": "add Item to cart",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "3a5d7950-b594-4762-9974-2d1af8f1e5f1",
            "type": "text/javascript",
            "exec": [
              "",
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"a_orderId\", jsonData.orderId);",
              "pm.environment.set(\"a_orderItemId\", jsonData.items[0].orderItemId);",
              "pm.environment.set(\"a_shortSku\", jsonData.items[0].shortSku);",
              "pm.environment.set(\"a_itemId\", jsonData.items[0].item.itemId);",
              "",
              "pm.test(\"Add to cart successful\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              "//tests[`Product ID = ${jsonData.items[0].productId}, Short Sku = ${jsonData.shortSku} and Sku Name = ${jsonData.name}`] = true;",
              "tests[\"Sku added  = \"+ jsonData.items[0].shortSku] = true;",
              "//var jsonData = pm.response.json();",
              "//pm.globals.set(\"gcartOrderItemId\", jsonData.items[0].orderItemId);",
              "//pm.globals.set(\"gshortsku\", jsonData.items[0].shortSku);",
              "",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "e785cc82-7c52-4bc2-8e87-3eb3de7fba01",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"shortSku\":\"628400579\",\n  \"quantity\":\"1\"\n}"
        },
        "url": "https://{{env}}.abercrombie.com/api/ecomm/a-us/cart/items/"
      },
      "response": []
    },
    {
      "_postman_id": "01272982-e50d-4c90-a47a-cb06bf28158f",
      "name": "shipping&Billing",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "b328f51e-429f-40c4-a704-d37d87dd6b91",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Added Shipping & Billing address\", function () {",
              "    pm.response.to.have.status(\"OK\");",
              "});",
              "",
              "var jsonData = pm.response.json();",
              "",
              "pm.test(\"Cart PUT success\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              "",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"shippingAddress\":{\n    \"firstName\":\"John\",\n    \"lastName\":\"Smith\",\n    \"address1\":\"5544 Test Rd\",\n    \"address2\":\"\",\n    \"email\":{{a_email}},\n    \"city\":\"New Albany\",\n    \"state\":\"OH\",\n    \"country\":\"US\",\n    \"postalCode\":\"43054\",\n    \"phone\":\"9090909090\"\n   },\n    \"billingAddressSameAsShipping\":true,\n    \"payment\":{\n      \"paymentType\":\"Venmo\"\n     }\n}"
        },
        "url": "https://{{env}}.abercrombie.com/api/ecomm/a-us/cart/"
      },
      "response": []
    },
    {
      "_postman_id": "75c7e8d0-2bd7-4141-b511-42c9109d2078",
      "name": "OrderSubmit",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "2f8dae7f-f4b4-406e-81d8-9f88a43cbb4e",
            "type": "text/javascript",
            "exec": [
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"a_orderId\", jsonData.orderId);",
              "",
              "pm.test(\"Payment Success\", function () {",
              "    pm.response.to.have.status(\"OK\");",
              "});",
              "",
              "var jsonData = pm.response.json();",
              "",
              "pm.test(\"Cart POST success\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"Success\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              "tests[\"Order submit response code  = \"+ jsonData.responseCode] = true;",
              "tests[\"Order ID  = \"+ jsonData.orderId] = true;",
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"payment\":{\n    \"venmoPayment\":{\n      \"paymentMethodNonce\":\"fake-venmo-account-nonce\",\n      \"deviceData\":\"abcde\"\n    }\n  }\n}"
        },
        "url": {
          "raw": "https://{{env}}.abercrombie.com/api/ecomm/a-us/cart/?",
          "protocol": "https",
          "host": [
            "{{env}}",
            "abercrombie",
            "com"
          ],
          "path": [
            "api",
            "ecomm",
            "a-us",
            "cart",
            ""
          ],
          "query": [
            {
              "key": "cookieAuth",
              "value": "true",
              "disabled": true
            }
          ]
        }
      },
      "response": []
    },
    {
      "_postman_id": "6f8b707f-e20b-45c9-b99b-831cf092e3b4",
      "name": "anf-logoff",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "61532a3c-8ad8-44a7-be80-272cef0a122b",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Session logoff success\", function () {",
              "    pm.response.to.have.status(\"OK\");",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "DELETE",
        "header": [],
        "body": {},
        "url": {
          "raw": "https://{{env}}.abercrombie.com/api/ecomm/a-us/session/?cookieAuth=true",
          "protocol": "https",
          "host": [
            "{{env}}",
            "abercrombie",
            "com"
          ],
          "path": [
            "api",
            "ecomm",
            "a-us",
            "session",
            ""
          ],
          "query": [
            {
              "key": "store",
              "value": "a-us",
              "disabled": true
            },
            {
              "key": "cookieAuth",
              "value": "true"
            }
          ]
        }
      },
      "response": []
    },
    {
      "_postman_id": "fcb392a0-34bb-4976-b5f0-0c42029c7d4e",
      "name": "hco-create-user",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "cdefa3b2-0f0d-4fc7-8086-ba993f79b9c4",
            "type": "text/javascript",
            "exec": [
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"h_userId\", jsonData.userId);",
              "",
              "pm.test(\"New user created \", function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData.status).to.eql(\"OK\");",
              "});",
              "",
              "pm.test(\"response must be valid and have a body\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\":\"hcoapitest_{{$randomInt}}{{$randomInt}}@test.com\",\n  \"firstName\":\"Hollister\",\n  \"lastName\":\"Test\",\n  \"password\":\"passw0rd\",\n  \"primaryPhone\":\"1111111111\",\n  \"origin\":\"POS\",\n  \"cashierID\":\"12345\",\n  \"preference\":{\n   \"preferredStore\":\"30127\"\n  }\n}"
        },
        "url": {
          "raw": "https://{{env}}.hollisterco.com/api/ecomm/h-us/user/?cookieAuth=true",
          "protocol": "https",
          "host": [
            "{{env}}",
            "hollisterco",
            "com"
          ],
          "path": [
            "api",
            "ecomm",
            "h-us",
            "user",
            ""
          ],
          "query": [
            {
              "key": "cookieAuth",
              "value": "true"
            }
          ]
        }
      },
      "response": []
    },
    {
      "_postman_id": "ea9bdf2d-2f8e-4950-a44e-ae7a2f1ac993",
      "name": "hco-userdetails",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "05efd817-fbed-4a42-95b3-b6e3e2ee809f",
            "type": "text/javascript",
            "exec": [
              "",
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"h_userId\", jsonData.userId);",
              "pm.environment.set(\"h_email\", jsonData.email);",
              "pm.environment.set(\"h_login\", jsonData.email);",
              "pm.environment.set(\"h_pstore\", jsonData.preference.preferredStore);",
              "",
              "tests[\"user ID  = \"+ jsonData.userId] = true;",
              "tests[\"user email   = \"+ jsonData.email] = true;"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "dcd9308d-117a-4e40-a6e6-fc6c1806d6d7",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"shortSku\": \"628396469\"\n}"
        },
        "url": "https://{{env}}.hollisterco.com/api/ecomm/h-us/user/"
      },
      "response": []
    },
    {
      "_postman_id": "3bf9a238-0252-421f-94cb-21070f5c53ce",
      "name": "hco_add Item to cart",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "0dbb6e9e-0a46-4671-ad04-46976698ad1a",
            "type": "text/javascript",
            "exec": [
              "",
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"h_orderId\", jsonData.orderId);",
              "pm.environment.set(\"h_orderItemId\", jsonData.items[0].orderItemId);",
              "pm.environment.set(\"h_shortSku\", jsonData.items[0].shortSku);",
              "pm.environment.set(\"h_itemId\", jsonData.items[0].item.itemId);",
              "",
              "pm.test(\"Add to cart successful\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              "//tests[`Product ID = ${jsonData.items[0].productId}, Short Sku = ${jsonData.shortSku} and Sku Name = ${jsonData.name}`] = true;",
              "tests[\"Sku added  = \"+ jsonData.items[0].shortSku] = true;",
              "//var jsonData = pm.response.json();",
              "//pm.globals.set(\"gcartOrderItemId\", jsonData.items[0].orderItemId);",
              "//pm.globals.set(\"gshortsku\", jsonData.items[0].shortSku);",
              "",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "e785cc82-7c52-4bc2-8e87-3eb3de7fba01",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"shortSku\":\"631798311\",\n  \"quantity\":\"1\"\n}"
        },
        "url": "https://{{env}}.hollisterco.com/api/ecomm/h-us/cart/items/"
      },
      "response": []
    },
    {
      "_postman_id": "b29177f4-d2a3-47f1-9cc9-8d0773b5f5c2",
      "name": "hco_shipping&Billing",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "b328f51e-429f-40c4-a704-d37d87dd6b91",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Added Shipping & Billing address\", function () {",
              "    pm.response.to.have.status(\"OK\");",
              "});",
              "",
              "var jsonData = pm.response.json();",
              "",
              "pm.test(\"Cart PUT success\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              "",
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"shippingAddress\":{\n    \"firstName\":\"John\",\n    \"lastName\":\"Smith\",\n    \"address1\":\"5544 Test Rd\",\n    \"address2\":\"\",\n    \"email\":{{h_email}},\n    \"city\":\"New Albany\",\n    \"state\":\"OH\",\n    \"country\":\"US\",\n    \"postalCode\":\"43054\",\n    \"phone\":\"9090909090\"\n   },\n    \"billingAddressSameAsShipping\":true,\n    \"payment\":{\n      \"paymentType\":\"Venmo\"\n     }\n}"
        },
        "url": "https://{{env}}.hollisterco.com/api/ecomm/h-us/cart/"
      },
      "response": []
    },
    {
      "_postman_id": "e1b45cba-2223-4ef5-87b7-dae3a9c51ca3",
      "name": "hco_apply GC to order",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "6f07a777-8a0e-4dd3-ac0f-b3a7295b3341",
            "type": "text/javascript",
            "exec": [
              "",
              "var jsonData = pm.response.json();",
              "",
              "pm.test(\"Giftcard applied to Order\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"cardNumber\":\"7777062794710919\",\n  \"balance\":10\n}"
        },
        "url": "https://{{env}}.hollisterco.com/api/ecomm/h-us/cart/giftcard/"
      },
      "response": []
    },
    {
      "_postman_id": "3040d971-3ca8-42ec-bb7a-3a8761667984",
      "name": "hco_orderSubmit",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "b203bef2-da4f-4d7d-979a-d7ebeaa4b7ab",
            "type": "text/javascript",
            "exec": [
              "var jsonData = pm.response.json();",
              "pm.environment.set(\"h_orderId\", jsonData.orderId);",
              "",
              "pm.test(\"Payment Success\", function () {",
              "    pm.response.to.have.status(\"OK\");",
              "});",
              "",
              "var jsonData = pm.response.json();",
              "",
              "pm.test(\"Cart POST success\" ,function () {",
              "     pm.response.to.be.ok; ",
              "     pm.response.to.be.withBody;",
              "     pm.response.to.be.json;",
              "     pm.response.to.not.be.error; ",
              "     pm.response.to.have.jsonBody(\"Success\"); ",
              "     pm.response.to.not.have.jsonBody(\"error\"); ",
              "});",
              "",
              "tests[\"Order submit response code  = \"+ jsonData.responseCode] = true;",
              "tests[\"Order ID  = \"+ jsonData.orderId] = true;",
              ""
            ]
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"payment\":{\n    \"venmoPayment\":{\n      \"paymentMethodNonce\":\"fake-venmo-account-nonce\",\n      \"deviceData\":\"abcde\"\n    }\n  }\n}"
        },
        "url": "https://{{env}}.hollisterco.com/api/ecomm/h-us/cart/"
      },
      "response": []
    },
    {
      "_postman_id": "1094132b-0108-4ece-9837-73f5a521d31a",
      "name": "hco_logoff",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "61532a3c-8ad8-44a7-be80-272cef0a122b",
            "type": "text/javascript",
            "exec": [
              "pm.test(\"Session logoff success\", function () {",
              "    pm.response.to.have.status(\"OK\");",
              "});"
            ]
          }
        }
      ],
      "request": {
        "method": "DELETE",
        "header": [],
        "body": {},
        "url": {
          "raw": "https://{{env}}.hollisterco.com/api/ecomm/h-us/session/?cookieAuth=true",
          "protocol": "https",
          "host": [
            "{{env}}",
            "hollisterco",
            "com"
          ],
          "path": [
            "api",
            "ecomm",
            "h-us",
            "session",
            ""
          ],
          "query": [
            {
              "key": "store",
              "value": "a-us",
              "disabled": true
            },
            {
              "key": "cookieAuth",
              "value": "true"
            }
          ]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "dfa3fbc9-64f8-40cb-8be0-d388fcdda572",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "783731bc-ba16-4c06-9a62-ed780aaf99b3",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}